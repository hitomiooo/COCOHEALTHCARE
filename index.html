<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ココちゃん健康管理手帳 (Firebase版)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>ココちゃん健康管理手帳 🐾</h1>
    </header>

    <div id="authSection">
        <p id="authStatus">🔄 認証状態を確認中...</p>
        <button id="loginButton" style="display: none;">Googleアカウントでログイン</button>
        <button id="logoutButton" style="display: none;">ログアウト</button>
    </div>
    <main id="mainContent" style="display: none;">
        
        <form id="healthForm">
            <input type="hidden" id="recordId">
            
            <h3>記録フォーム (日付を選んで入力・編集)</h3>
            
            <label for="date">日付:</label>
            <input type="date" id="date" required>

            <label for="weather">天気:</label>
            <select id="weather">
                <option value="☀️">☀️ 晴れ</option>
                <option value="☁️">☁️ 曇り</option>
                <option value="☂️">☂️ 雨</option>
                <option value="☃️">☃️ 雪</option>
            </select>
            
            <label for="dogPhoto">今日のココちゃん 📸:</label>
            <input type="file" id="dogPhoto" accept="image/*">
            <div id="photoPreview" class="photo-preview"></div>
            
            <fieldset>
                <legend>お通じ💩</legend>
                <label for="poopCount">回数:</label>
                <input type="number" id="poopCount" min="0" value="0">
                <label for="poopQuality">質:</label>
                <select id="poopQuality">
                    <option value="良い">良い</option>
                    <option value="普通">普通</option>
                    <option value="緩い">緩い</option>
                    <option value="下痢">下痢</option>
                </select>
            </fieldset>

            <fieldset>
                <legend>おしっこ</legend>
                <label for="peeCount">回数:</label>
                <input type="number" id="peeCount" min="0" value="0">
                <label for="peeColor">濃さ:</label>
                <select id="peeColor">
                    <option value="薄い">薄い</option>
                    <option value="普通">普通</option>
                    <option value="濃い">濃い</option>
                </select>
            </fieldset>

            <fieldset>
                <legend>食欲🍖</legend>
                <label for="appetiteMorning">朝:</label>
                <select id="appetiteMorning">
                    <option value="完食">完食</option>
                    <option value="半分">半分</option>
                    <option value="ほぼ食べず">ほぼ食べず</option>
                </select>
                <label for="appetiteNoon">昼:</label>
                <select id="appetiteNoon">
                    <option value="完食">完食</option>
                    <option value="半分">半分</option>
                    <option value="ほぼ食べず">ほぼ食べず</option>
                </select>
                <label for="appetiteNight">晩:</label>
                <select id="appetiteNight">
                    <option value="完食">完食</option>
                    <option value="半分">半分</option>
                    <option value="ほぼ食べず">ほぼ食べず</option>
                </select>
            </fieldset>

            <label for="sleepTime">睡眠の様子:</label>
            <select id="sleepTime">
                <option value="ずっと寝てる">ずっと寝てる</option>
                <option value="起きてる時間が長い">起きてる時間が長い</option>
                <option value="寝たり起きたり移動多い">寝たり起きたり移動多い</option>
            </select>

            <label for="otherNotes">その他（メモ）:</label>
            <textarea id="otherNotes" rows="3"></textarea>
            
            <button type="submit" id="saveButton">記録する</button>
            <button type="button" id="deleteButton" class="delete-btn" style="display: none;">この日の記録を削除</button>
        </form>

        <hr>

        <h2>これまでの記録</h2>
        <div id="recordList">
            <p>🔄 データを読み込み中...</p>
        </div>
    </main>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js" type="module"></script>
    <script src="script.js" type="module"></script>
</body>
</html>
